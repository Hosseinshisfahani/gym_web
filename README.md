# سیستم مدیریت باشگاه ورزشی

یک پلتفرم جامع تحت وب برای مدیریت باشگاه ورزشی با قابلیت‌های پیشرفته مدیریت کاربران، برنامه‌های تمرینی و غذایی، فروشگاه آنلاین، و سیستم بلاگ.

## 📋 فهرست مطالب

- [معرفی](#معرفی)
- [ویژگی‌ها](#ویژگی‌ها)
- [تکنولوژی‌های استفاده شده](#تکنولوژی‌های-استفاده-شده)
- [نصب و راه‌اندازی](#نصب-و-راه‌اندازی)
- [پیکربندی](#پیکربندی)
- [ساختار پروژه](#ساختار-پروژه)
- [استفاده](#استفاده)
- [مشارکت](#مشارکت)

## 🎯 معرفی

این پروژه یک سیستم مدیریت جامع برای باشگاه‌های ورزشی است که به کاربران امکان مدیریت پروفایل، دریافت برنامه‌های تمرینی و غذایی، خرید از فروشگاه آنلاین، و تعامل با مربیان را فراهم می‌کند.

## ✨ ویژگی‌ها

### مدیریت کاربران
- سیستم احراز هویت با django-allauth
- پروفایل کاربری کامل با امکان آپلود عکس
- احراز هویت دو مرحله‌ای (کد ملی)
- سیستم VIP برای کاربران ویژه
- تنظیمات اعلان‌های ایمیل

### برنامه‌های تمرینی و غذایی
- ایجاد و مدیریت برنامه‌های تمرینی (چربی‌سوزی، حجم، هایپروتروفی، اصلاحی)
- ایجاد و مدیریت برنامه‌های غذایی
- دانلود برنامه‌ها به صورت PDF
- پیگیری مدت زمان اجرای برنامه‌ها
- مدیریت تاریخ شروع و پایان برنامه‌ها

### پیگیری اطلاعات بدنی
- ثبت اطلاعات بدنی کاربران
- گزارش‌های اینبادی (InBody Reports)
- گزارش‌های تحلیل بدنی
- تعیین و پیگیری اهداف ماهانه
- تحلیل پیشرفت

### سیستم درخواست برنامه
- ثبت درخواست برای برنامه‌های تمرینی و غذایی
- درج اطلاعات تجهیزات و دسترسی به آن‌ها
- ثبت جزئیات حساسیت‌های غذایی
- مدیریت وضعیت درخواست‌ها

### سیستم پرداخت
- ثبت پرداخت‌های کاربران
- مدیریت کارت‌های پرداخت
- سیستم پرداخت آنلاین
- مدیریت رسیدهای شهریه
- تعرفه‌های ویژه شهریه
- دسته‌بندی شهریه‌ها

### سیستم تیکت و پشتیبانی
- ارسال تیکت‌های پشتیبانی
- پاسخ به تیکت‌ها توسط ادمین
- مدیریت وضعیت تیکت‌ها

### مدیریت اسناد
- آپلود و مدیریت اسناد کاربران
- دسترسی کنترل شده به اسناد

### بلاگ و محتوا
- مدیریت دسته‌بندی‌های بلاگ
- ایجاد و مدیریت پست‌های بلاگ
- سیستم نظرات برای پست‌ها
- مدیریت نظرات توسط ادمین

### فروشگاه آنلاین (gym_shop)
- نمایش دسته‌بندی‌های محصولات
- نمایش محصولات با جزئیات کامل
- مدیریت سبد خرید
- سیستم سفارش‌گذاری
- مدیریت موجودی محصولات
- مدیریت رنگ و سایز محصولات

### سایر ویژگی‌ها
- پشتیبانی کامل از تاریخ شمسی (جلالی)
- پشتیبانی از زبان فارسی
- رابط ادمین سفارشی
- سیستم مدیریت دفترچه (Booklet)
- سیستم پرداخت دفترچه

## 🛠 تکنولوژی‌های استفاده شده

### Backend
- **Django 4.2.16** - فریمورک اصلی وب
- **PostgreSQL** - پایگاه داده (با psycopg2-binary)
- **Python 3.9** - زبان برنامه‌نویسی

### کتابخانه‌های پایتون
- **django-allauth 0.60.1** - احراز هویت و ورود اجتماعی (Google)
- **Pillow 11.2.1** - پردازش تصاویر
- **ReportLab 4.4.1** - تولید فایل‌های PDF
- **jdatetime 5.2.0** - پشتیبانی از تاریخ شمسی
- **django-widget-tweaks 1.5.0** - بهبود فرم‌ها
- **python-dotenv 1.1.0** - مدیریت متغیرهای محیطی
- **chardet 5.2.0** - تشخیص کدگذاری کاراکترها
- **requests 2.31.0** - درخواست‌های HTTP

## 📦 نصب و راه‌اندازی

### پیش‌نیازها
- Python 3.9 یا بالاتر
- PostgreSQL
- pip (مدیر بسته‌های پایتون)
- virtualenv (برای محیط مجازی)

### مراحل نصب

1. **کلون کردن پروژه** (در صورت وجود repository)
```bash
git clone <repository-url>
cd gym_web
```

2. **ایجاد محیط مجازی**
```bash
python3 -m venv venv
source venv/bin/activate  # در Linux/Mac
# یا
venv\Scripts\activate  # در Windows
```

3. **نصب وابستگی‌ها**
```bash
cd cnt_project
pip install -r requirements.txt
```

4. **تنظیم پایگاه داده**
```bash
# ایجاد پایگاه داده PostgreSQL
createdb gym_db

# اجرای مایگریشن‌ها
python manage.py migrate
```

5. **ایجاد ابرکاربر (Superuser)**
```bash
python manage.py createsuperuser
```

6. **جمع‌آوری فایل‌های استاتیک**
```bash
python manage.py collectstatic
```

7. **اجرای سرور توسعه**
```bash
python manage.py runserver
```

## ⚙️ پیکربندی

### تنظیم متغیرهای محیطی

یک فایل `.env` در پوشه `cnt_project` ایجاد کنید و متغیرهای زیر را تنظیم کنید:

```env
DJ_DEBUG=1
DJANGO_SECRET_KEY=your-secret-key-here
DOMAIN=localhost

# تنظیمات پایگاه داده PostgreSQL
DATABASE_NAME=gym_db
DATABASE_USER=your_db_user
DATABASE_PASSWORD=your_db_password
DATABASE_HOST=localhost
DATABASE_PORT=5432

# تنظیمات ایمیل (اختیاری)
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your_email@example.com
EMAIL_HOST_PASSWORD=your_email_password

# تنظیمات OAuth (برای ورود اجتماعی)
GOOGLE_OAUTH2_CLIENT_ID=your-google-client-id
GOOGLE_OAUTH2_CLIENT_SECRET=your-google-client-secret
```

### تنظیمات پایگاه داده

در فایل `settings.py`، تنظیمات پایگاه داده را مطابق با محیط خود تغییر دهید:

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': os.getenv('DATABASE_NAME', 'gym_db'),
        'USER': os.getenv('DATABASE_USER', 'postgres'),
        'PASSWORD': os.getenv('DATABASE_PASSWORD', ''),
        'HOST': os.getenv('DATABASE_HOST', 'localhost'),
        'PORT': os.getenv('DATABASE_PORT', '5432'),
    }
}
```

## 📁 ساختار پروژه

```
gym_web/
├── cnt_project/              # پروژه اصلی Django
│   ├── gym/                  # اپلیکیشن اصلی باشگاه
│   │   ├── models.py         # مدل‌های دیتابیس
│   │   ├── views.py          # ویوهای اپلیکیشن
│   │   ├── urls.py           # مسیرهای URL
│   │   ├── forms.py          # فرم‌های Django
│   │   ├── admin.py          # تنظیمات پنل ادمین
│   │   ├── migrations/       # فایل‌های مایگریشن
│   │   └── templates/        # قالب‌های HTML
│   ├── gym_shop/             # اپلیکیشن فروشگاه
│   │   ├── models.py
│   │   ├── views.py
│   │   ├── urls.py
│   │   └── ...
│   ├── gym_website/          # تنظیمات اصلی پروژه
│   │   ├── settings.py       # تنظیمات Django
│   │   ├── urls.py           # URL های اصلی
│   │   └── wsgi.py
│   ├── manage.py
│   └── requirements.txt
├── front_end/                # فایل‌های فرانت‌اند
│   ├── media/                # فایل‌های رسانه‌ای آپلود شده
│   ├── static/               # فایل‌های استاتیک
│   └── templates/            # قالب‌های مشترک
└── venv/                     # محیط مجازی پایتون
```

## 🚀 استفاده

### دسترسی به پنل ادمین
```
http://localhost:8000/admin/
```

### دسترسی به صفحه اصلی
```
http://localhost:8000/
```

### دسترسی به فروشگاه
```
http://localhost:8000/shop/
```

### دستورات مدیریتی مفید

```bash
# ساخت مایگریشن جدید
python manage.py makemigrations

# اجرای مایگریشن‌ها
python manage.py migrate

# ایجاد دستورات مدیریتی سفارشی
python manage.py <command_name>

# اجرای تست‌ها
python manage.py test

# بررسی امنیت تنظیمات
python manage.py check --deploy
```

## 📝 دستورات مدیریتی سفارشی

پروژه شامل چندین دستور مدیریتی در `gym/management/commands/` است که می‌توانید از آن‌ها استفاده کنید.

## 🌐 پشتیبانی از زبان‌ها

پروژه از زبان فارسی پشتیبانی می‌کند و شامل فایل‌های ترجمه در پوشه `locale/fa/` است.

برای به‌روزرسانی ترجمه‌ها:
```bash
python manage.py makemessages -l fa
python manage.py compilemessages
```

## 🔒 امنیت

- استفاده از متغیرهای محیطی برای اطلاعات حساس
- محافظت CSRF در فرم‌ها
- احراز هویت و مجوزدهی مناسب
- استفاده از SECRET_KEY منحصر به فرد در production

## 📄 مجوز

[لطفاً مجوز پروژه را در اینجا قرار دهید]

## 🤝 مشارکت

برای مشارکت در پروژه:

1. پروژه را Fork کنید
2. یک شاخه جدید ایجاد کنید (`git checkout -b feature/AmazingFeature`)
3. تغییرات خود را commit کنید (`git commit -m 'Add some AmazingFeature'`)
4. تغییرات را به شاخه push کنید (`git push origin feature/AmazingFeature`)
5. یک Pull Request ایجاد کنید

## 📞 تماس

از طریق آی دی تلگرام : @py_isfahani
---

**نکته**:
این پروژه در شرلیط کنونی نیاز به برخی دیباگ های جزئی برای ارتقاء رابط کاربری و تجربه کاربری دارد.
